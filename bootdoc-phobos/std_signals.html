<!DOCTYPE html>
<html lang="en">
	<head>
	<meta charset="utf-8">
	<title>std.signals - Phobos documentation</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">

	<!-- styles -->
	<link href="bootDoc/assets/css/bootstrap.css" rel="stylesheet">
	<style type="text/css">
		body {
		padding-top: 60px;
		padding-bottom: 40px;
		}
		.sidebar-nav {
		padding: 9px 0;
		}
	</style>
	<link href="bootDoc/assets/css/bootstrap-responsive.css" rel="stylesheet">
	<link href="bootDoc/bootdoc.css" rel="stylesheet">

	<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- fav and touch icons -->
	<link rel="shortcut icon" href="favicon.ico">
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="bootDoc/assets/ico/apple-touch-icon-114-precomposed.png">
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="bootDoc/assets/ico/apple-touch-icon-72-precomposed.png">
	<link rel="apple-touch-icon-precomposed" href="bootDoc/assets/ico/apple-touch-icon-57-precomposed.png">
	
	<!-- Introduce DDoc settings required by JavaScript -->
	<script type="text/javascript">
		var Title = 'std.signals';
		var SourceRepository = 'https://github.com/D-Programming-Language/phobos/tree/master';
		var Modules = [
			
	"index",
	"etc.c.curl",
	"etc.c.sqlite3",
	"etc.c.zlib",
	"std.algorithm",
	"std.array",
	"std.ascii",
	"std.base64",
	"std.bigint",
	"std.bind",
	"std.bitmanip",
	"std.c.fenv",
	"std.c.locale",
	"std.c.math",
	"std.c.process",
	"std.c.stdarg",
	"std.c.stddef",
	"std.c.stdio",
	"std.c.stdlib",
	"std.c.string",
	"std.c.time",
	"std.c.wcharh",
	"std.c.windows.com",
	"std.c.windows.stat",
	"std.c.windows.windows",
	"std.c.windows.winsock",
	"std.compiler",
	"std.complex",
	"std.concurrency",
	"std.container",
	"std.conv",
	"std.cpuid",
	"std.cstream",
	"std.csv",
	"std.datetime",
	"std.demangle",
	"std.encoding",
	"std.exception",
	"std.file",
	"std.format",
	"std.functional",
	"std.getopt",
	"std.json",
	"std.loader",
	"std.math",
	"std.mathspecial",
	"std.md5",
	"std.metastrings",
	"std.mmfile",
	"std.net.curl",
	"std.net.isemail",
	"std.numeric",
	"std.outbuffer",
	"std.parallelism",
	"std.path",
	"std.perf",
	"std.process",
	"std.random",
	"std.range",
	"std.regex",
	"std.regexp",
	"std.signals",
	"std.socket",
	"std.socketstream",
	"std.stdarg",
	"std.stdint",
	"std.stdio",
	"std.stdiobase",
	"std.stream",
	"std.string",
	"std.syserror",
	"std.system",
	"std.traits",
	"std.typecons",
	"std.typetuple",
	"std.uni",
	"std.uri",
	"std.utf",
	"std.variant",
	"std.windows.charset",
	"std.windows.iunknown",
	"std.windows.registry",
	"std.windows.syserror",
	"std.xml",
	"std.zip",
	"std.zlib",
		];
	</script>
	
	<style type="text/css">
		.ddoc-icon-variable { background-image: url('bootDoc/ddoc-icons/var.png'); }
		.ddoc-icon-function { background-image: url('bootDoc/ddoc-icons/func.png'); }
		.ddoc-icon-property { background-image: url('bootDoc/ddoc-icons/property.png'); }
		.ddoc-icon-struct { background-image: url('bootDoc/ddoc-icons/struct.png'); }
		.ddoc-icon-class { background-image: url('bootDoc/ddoc-icons/class.png'); }
		.ddoc-icon-enum { background-image: url('bootDoc/ddoc-icons/enum.png'); }
		.ddoc-icon-template { background-image: url('bootDoc/ddoc-icons/template.png'); }
	</style>
	</head>

	<body>
	<div class="navbar navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container-fluid">
				<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</a>
				<a class="brand" href="index.html">Phobos</a>
				<div class="nav-collapse">
					<ul class="nav">
						<li class="active"><a href="index.html">Reference</a></li>
					</ul>
					
					<form id="gotosymbol" class="navbar-search pull-left hidden">
						<input type="text" class="search-query" placeholder="Goto symbol in std.signals" data-provide="typeahead" data-items="4">
					</form>
					
					<p class="navbar-text pull-right"><a href="https://github.com/D-Programming-Language/phobos">Github Page</a></p>
				</div><!--/.nav-collapse -->
			</div>
		</div>
	</div>

	<div class="container-fluid">
		<div class="row-fluid">
			<div class="span2">
				<div class="well sidebar-nav">
				<ul class="nav nav-list">
					<li id="module-list" class="nav-header sidebar-list-entry">Modules<li>
					<li id="symbol-list" class="nav-header sidebar-list-entry hidden">std.signals</li>
				</ul>
				</div><!--/.well -->
			</div><!--/span-->
			
			<div class="span10">
				<div class="row-fluid">
					<div class="span11">
						<ul id="module-breadcrumb" class="breadcrumb">
							<noscript><h1>std.signals</h1></noscript>
						</ul>
						
					</div>
					<div class="span1 offset11">
						<a href="index.html"><img src="dlogo-small.png" alt="The D Programming Language"/></a>
					</div>
				</div>
				<div id="declaration-list">
					<!-- Generated by Ddoc from phobos\std\signals.d -->
<dl><p>Signals and Slots are an implementation of the Observer Pattern.
 Essentially, when a Signal is emitted, a list of connected Observers
 (called slots) are called.
</p>

<p>There have been several D implementations of Signals and Slots.
 This version makes use of several new features in D, which make
 using it simpler and less error prone. In particular, it is no
 longer necessary to instrument the slots.

</p>
<b>References:</b><br>
<a href="http://google.com/search?btnI=I%27m+Feeling+Lucky&amp;ie=UTF-8&amp;oe=UTF-8&amp;q=A Deeper Look at Signals and Slots">A Deeper Look at Signals and Slots</a><br>
      <a href="http://en.wikipedia.org/wiki/Observer_pattern">Observer pattern</a><br>
      <a href="http://en.wikipedia.org/wiki/Signals_and_slots">Wikipedia</a><br>
      <a href="http://boost.org/doc/html/signals.html">Boost Signals</a><br>
      <a href="http://doc.trolltech.com/4.1/signalsandslots.html">Qt</a><br>
<br><br>

      There has been a great deal of discussion in the D newsgroups
      over this, and several implementations:
<br><br>

      <a href="http://www.digitalmars.com/d/archives/digitalmars/D/announce/signal_slots_library_4825.html">signal slots library</a><br>
      <a href="http://www.digitalmars.com/d/archives/digitalmars/D/Signals_and_Slots_in_D_42387.html">Signals and Slots in D</a><br>
      <a href="http://www.digitalmars.com/d/archives/digitalmars/D/Dynamic_binding_--_Qt_s_Signals_and_Slots_vs_Objective-C_42260.html">Dynamic binding -- Qt's Signals and Slots vs Objective-C</a><br>
      <a href="http://www.digitalmars.com/d/archives/digitalmars/D/Dissecting_the_SS_42377.html">Dissecting the SS</a><br>
      <a href="http://www.digitalmars.com/d/archives/digitalmars/D/dwt/about_harmonia_454.html">about harmonia</a><br>
      <a href="http://www.digitalmars.com/d/archives/digitalmars/D/announce/1502.html">Another event handling module</a><br>
      <a href="http://www.digitalmars.com/d/archives/digitalmars/D/41825.html">Suggestion: signal/slot mechanism</a><br>
      <a href="http://www.digitalmars.com/d/archives/digitalmars/D/13251.html">Signals and slots?</a><br>
      <a href="http://www.digitalmars.com/d/archives/digitalmars/D/10714.html">Signals and slots ready for evaluation</a><br>
      <a href="http://www.digitalmars.com/d/archives/digitalmars/D/1393.html">Signals &amp; Slots for Walter</a><br>
      <a href="http://www.digitalmars.com/d/archives/28456.html">Signal/Slot mechanism?</a><br>
      <a href="http://www.digitalmars.com/d/archives/19470.html">Modern Features?</a><br>
      <a href="http://www.digitalmars.com/d/archives/16592.html">Delegates vs interfaces</a><br>
      <a href="http://www.digitalmars.com/d/archives/16583.html">The importance of component programming (properties, <a class="symbol symbol-anchor" name="signals" href="#signals">signals</a> and slots, etc)</a><br>
      <a href="http://www.digitalmars.com/d/archives/16368.html"><a class="symbol symbol-anchor" name="signals" href="#signals">signals</a> and slots</a><br>

<br><br>
<dt>Known Bugs</dt><dd>Slots can only be delegates formed from class objects or
      interfaces to class objects. If a delegate to something else
      is passed to connect(), such as a struct member function,
      a nested function or a COM interface, undefined behavior
      will result.
<br><br>

      Not safe for multiple threads operating on the same <a class="symbol symbol-anchor" name="signals" href="#signals">signals</a>
      or slots.
</dd>
<dt>License</dt><dd><a href="http://www.boost.org/LICENSE_1_0.txt">Boost License 1.0</a>.
</dd>
<dt>Authors</dt><dd><a href="http://digitalmars.com">Walter Bright</a>
</dd>
<b>Source:</b><br>
<a href="https://github.com/D-Programming-Language/phobos/blob/master/std/signals.d">std/signals.d</a><br><br>
</dl>
<hr><div class="row-fluid declaration"><h3>template <a class="symbol symbol-anchor" name="Signal" href="#Signal">Signal</a>(T1...)</h3></div>


<div class="declaration-content"><dl><p>Mixin to create a signal within a class object.
</p>

<p>Different signals can be added to a class by naming the mixins.

</p>
<b>Example:</b><br>
<pre class="d_code"><span class="d_keyword">import</span> std.signals;
<span class="d_keyword">import</span> std.stdio;

<span class="d_keyword">class</span> Observer
{   <span class="d_comment">// our slot
</span>
    <span class="d_keyword">void</span> watch(string msg, <span class="d_keyword">int</span> i)
    {
        writefln(<span class="d_string">"Observed msg '%s' and value %s"</span>, msg, i);
    }
}

<span class="d_keyword">class</span> Foo
{
    <span class="d_keyword">int</span> value() { <span class="d_keyword">return</span> _value; }

    <span class="d_keyword">int</span> value(<span class="d_keyword">int</span> v)
    {
        <span class="d_keyword">if</span> (v != _value)
        {   _value = v;
            <span class="d_comment">// call all the connected slots with the two parameters
</span>
            emit(<span class="d_string">"setting new value"</span>, v);
        }
        <span class="d_keyword">return</span> v;
    }

    <span class="d_comment">// Mix in all the code we need to make Foo into a signal
</span>
    <span class="d_keyword">mixin</span> <u>Signal</u>!(string, <span class="d_keyword">int</span>);

  <span class="d_keyword">private</span> :
    <span class="d_keyword">int</span> _value;
}

<span class="d_keyword">void</span> main()
{
    Foo a = <span class="d_keyword">new</span> Foo;
    Observer o = <span class="d_keyword">new</span> Observer;

    a.value = 3;                <span class="d_comment">// should not call o.watch()
</span>
    a.connect(&amp;o.watch);        <span class="d_comment">// o.watch is the slot
</span>
    a.value = 4;                <span class="d_comment">// should call o.watch()
</span>
    a.disconnect(&amp;o.watch);     <span class="d_comment">// o.watch is no longer a slot
</span>
    a.value = 5;                <span class="d_comment">// so should not call o.watch()
</span>
    a.connect(&amp;o.watch);        <span class="d_comment">// connect again
</span>
    a.value = 6;                <span class="d_comment">// should call o.watch()
</span>
    <span class="d_keyword">delete</span> o;                   <span class="d_comment">// destroying o should automatically disconnect it
</span>
    a.value = 7;                <span class="d_comment">// should not call o.watch()
</span>
}
</pre>
 which should print:
 <pre>
 Observed msg 'setting new value' and value 4
 Observed msg 'setting new value' and value 6
 </pre><br><br>
</dl>
<div class="offset1 member-list"><hr><div class="row-fluid declaration"><h3>alias <a class="symbol symbol-anchor" name="slot_t" href="#slot_t">slot_t</a>;
</h3></div>


<div class="declaration-content"><dl><p>A slot is implemented as a delegate.
 The <a class="symbol symbol-anchor" name="slot_t" href="#slot_t">slot_t</a> is the type of the delegate.
 The delegate must be to an instance of a class or an interface
 to a class instance.
 Delegates to struct instances or nested functions must not be
 used as slots.</p>

</dl>
</div>

<hr><div class="row-fluid declaration"><h3>void <a class="symbol symbol-anchor" name="emit" href="#emit">emit</a>(T1 <i>i</i>);
</h3></div>


<div class="declaration-content"><dl><p>Call each of the connected slots, passing the argument(s) <i>i</i> to them.</p>

</dl>
</div>

<hr><div class="row-fluid declaration"><h3>void <a class="symbol symbol-anchor" name="connect" href="#connect">connect</a>(slot_t <i>slot</i>);
</h3></div>


<div class="declaration-content"><dl><p>Add a <i>slot</i> to the list of slots to be called when emit() is called.</p>

</dl>
</div>

<hr><div class="row-fluid declaration"><h3>void <a class="symbol symbol-anchor" name="disconnect" href="#disconnect">disconnect</a>(slot_t <i>slot</i>);
</h3></div>


<div class="declaration-content"><dl><p>Remove a <i>slot</i> from the list of slots to be called when emit() is called.</p>

</dl>
</div>

</div>
</div>



				</div>
			</div>
			
			<hr>
			
			<div class="pull-right">
				<footer>
					<p>&copy; Copyright Digital Mars 2000 - 2009.
 2012-2012</p>
				</footer>
			</div>
		</div>
	</div><!--/.fluid-container-->

	<!-- Bootstrap javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="bootDoc/assets/js/jquery.js"></script>
	<script src="bootDoc/assets/js/bootstrap-transition.js"></script>
	<script src="bootDoc/assets/js/bootstrap-alert.js"></script>
	<script src="bootDoc/assets/js/bootstrap-modal.js"></script>
	<script src="bootDoc/assets/js/bootstrap-dropdown.js"></script>
	<script src="bootDoc/assets/js/bootstrap-scrollspy.js"></script>
	<script src="bootDoc/assets/js/bootstrap-tab.js"></script>
	<script src="bootDoc/assets/js/bootstrap-tooltip.js"></script>
	<script src="bootDoc/assets/js/bootstrap-popover.js"></script>
	<script src="bootDoc/assets/js/bootstrap-button.js"></script>
	<script src="bootDoc/assets/js/bootstrap-collapse.js"></script>
	<script src="bootDoc/assets/js/bootstrap-carousel.js"></script>
	<script src="bootDoc/assets/js/bootstrap-typeahead.js"></script>
	
	<!-- bootDoc javascript
	================================================== -->
	<script src="bootDoc/bootdoc.js"></script>
	
	</body>
</html>

