<!DOCTYPE html>
<html lang="en">
	<head>
	<meta charset="utf-8">
	<title>std.variant - Phobos documentation</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">

	<!-- styles -->
	<link href="bootDoc/assets/css/bootstrap.css" rel="stylesheet">
	<style type="text/css">
		body {
		padding-top: 60px;
		padding-bottom: 40px;
		}
		.sidebar-nav {
		padding: 9px 0;
		}
	</style>
	<link href="bootDoc/assets/css/bootstrap-responsive.css" rel="stylesheet">
	<link href="bootDoc/bootdoc.css" rel="stylesheet">

	<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- fav and touch icons -->
	<link rel="shortcut icon" href="favicon.ico">
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="bootDoc/assets/ico/apple-touch-icon-114-precomposed.png">
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="bootDoc/assets/ico/apple-touch-icon-72-precomposed.png">
	<link rel="apple-touch-icon-precomposed" href="bootDoc/assets/ico/apple-touch-icon-57-precomposed.png">
	
	<!-- Introduce DDoc settings required by JavaScript -->
	<script type="text/javascript">
		var Title = 'std.variant';
		var SourceRepository = 'https://github.com/D-Programming-Language/phobos/tree/master';
		var Modules = [
			
	"index",
	"etc.c.curl",
	"etc.c.sqlite3",
	"etc.c.zlib",
	"std.algorithm",
	"std.array",
	"std.ascii",
	"std.base64",
	"std.bigint",
	"std.bind",
	"std.bitmanip",
	"std.c.fenv",
	"std.c.locale",
	"std.c.math",
	"std.c.process",
	"std.c.stdarg",
	"std.c.stddef",
	"std.c.stdio",
	"std.c.stdlib",
	"std.c.string",
	"std.c.time",
	"std.c.wcharh",
	"std.c.windows.com",
	"std.c.windows.stat",
	"std.c.windows.windows",
	"std.c.windows.winsock",
	"std.compiler",
	"std.complex",
	"std.concurrency",
	"std.container",
	"std.conv",
	"std.cpuid",
	"std.cstream",
	"std.csv",
	"std.datetime",
	"std.demangle",
	"std.encoding",
	"std.exception",
	"std.file",
	"std.format",
	"std.functional",
	"std.getopt",
	"std.json",
	"std.loader",
	"std.math",
	"std.mathspecial",
	"std.md5",
	"std.metastrings",
	"std.mmfile",
	"std.net.curl",
	"std.net.isemail",
	"std.numeric",
	"std.outbuffer",
	"std.parallelism",
	"std.path",
	"std.perf",
	"std.process",
	"std.random",
	"std.range",
	"std.regex",
	"std.regexp",
	"std.signals",
	"std.socket",
	"std.socketstream",
	"std.stdarg",
	"std.stdint",
	"std.stdio",
	"std.stdiobase",
	"std.stream",
	"std.string",
	"std.syserror",
	"std.system",
	"std.traits",
	"std.typecons",
	"std.typetuple",
	"std.uni",
	"std.uri",
	"std.utf",
	"std.variant",
	"std.windows.charset",
	"std.windows.iunknown",
	"std.windows.registry",
	"std.windows.syserror",
	"std.xml",
	"std.zip",
	"std.zlib",
		];
	</script>
	
	<style type="text/css">
		.ddoc-icon-variable { background-image: url('bootDoc/ddoc-icons/var.png'); }
		.ddoc-icon-function { background-image: url('bootDoc/ddoc-icons/func.png'); }
		.ddoc-icon-property { background-image: url('bootDoc/ddoc-icons/property.png'); }
		.ddoc-icon-struct { background-image: url('bootDoc/ddoc-icons/struct.png'); }
		.ddoc-icon-class { background-image: url('bootDoc/ddoc-icons/class.png'); }
		.ddoc-icon-enum { background-image: url('bootDoc/ddoc-icons/enum.png'); }
		.ddoc-icon-template { background-image: url('bootDoc/ddoc-icons/template.png'); }
	</style>
	</head>

	<body>
	<div class="navbar navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container-fluid">
				<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</a>
				<a class="brand" href="index.html">Phobos</a>
				<div class="nav-collapse">
					<ul class="nav">
						<li class="active"><a href="index.html">Reference</a></li>
					</ul>
					
					<form id="gotosymbol" class="navbar-search pull-left hidden">
						<input type="text" class="search-query" placeholder="Go to symbol in std.variant" data-provide="typeahead" data-items="4">
					</form>
					
					<p class="navbar-text pull-right"><a href="https://github.com/D-Programming-Language/phobos">Github Page</a></p>
				</div><!--/.nav-collapse -->
			</div>
		</div>
	</div>

	<div class="container-fluid">
		<div class="row-fluid">
			<div class="span2">
				<div class="well sidebar-nav">
				<ul class="nav nav-list">
					<li id="module-list" class="nav-header sidebar-list-entry">Modules<li>
					<li id="symbol-list" class="nav-header sidebar-list-entry hidden">std.variant</li>
				</ul>
				</div><!--/.well -->
			</div><!--/span-->
			
			<div class="span10">
				<div class="row-fluid">
					<div class="span11">
						<ul id="module-breadcrumb" class="breadcrumb">
							<noscript><h1>std.variant</h1></noscript>
						</ul>
						
					</div>
					<div class="span1 offset11">
						<a href="index.html"><img src="dlogo-small.png" alt="The D Programming Language"/></a>
					</div>
				</div>
				<div id="declaration-list">
					<!-- Generated by Ddoc from phobos\std\variant.d -->
<dl><p>This module implements a
 <a href="http://erdani.org/publications/cuj-04-2002.html">discriminated union</a>
 type (a.k.a.
 <a href="http://en.wikipedia.org/wiki/Tagged_union">tagged union</a>,
 <a href="http://en.wikipedia.org/wiki/Algebraic_data_type">algebraic type</a>).
 Such types are useful
 for type-uniform binary interfaces, interfacing with scripting
 languages, and comfortable exploratory programming.
</p>

<dt>Synopsis:</dt><dd>
<pre class="d_code"> Variant a; <span class="d_comment">// Must assign before use, otherwise exception ensues
</span>
 <span class="d_comment">// Initialize with an integer; make the type int
</span>
 Variant b = 42;
 <span class="d_keyword">assert</span>(b.type == <span class="d_keyword">typeid</span>(<span class="d_keyword">int</span>));
 <span class="d_comment">// Peek at the value
</span>
 <span class="d_keyword">assert</span>(b.peek!(<span class="d_keyword">int</span>) !<span class="d_keyword">is</span> <span class="d_keyword">null</span> &amp;&amp; *b.peek!(<span class="d_keyword">int</span>) == 42);
 <span class="d_comment">// Automatically convert per language rules
</span>
 <span class="d_keyword">auto</span> x = b.get!(<span class="d_keyword">real</span>);
 <span class="d_comment">// Assign any other type, including other variants
</span>
 a = b;
 a = 3.14;
 <span class="d_keyword">assert</span>(a.type == <span class="d_keyword">typeid</span>(<span class="d_keyword">double</span>));
 <span class="d_comment">// Implicit conversions work just as with built-in types
</span>
 <span class="d_keyword">assert</span>(a &gt; b);
 <span class="d_comment">// Check for convertibility
</span>
 <span class="d_keyword">assert</span>(!a.convertsTo!(<span class="d_keyword">int</span>)); <span class="d_comment">// double not convertible to int
</span>
 <span class="d_comment">// Strings and all other arrays are supported
</span>
 a = <span class="d_string">"now I'm a string"</span>;
 <span class="d_keyword">assert</span>(a == <span class="d_string">"now I'm a string"</span>);
 a = <span class="d_keyword">new</span> <span class="d_keyword">int</span>[42]; <span class="d_comment">// can also assign arrays
</span>
 <span class="d_keyword">assert</span>(a.length == 42);
 a[5] = 7;
 <span class="d_keyword">assert</span>(a[5] == 7);
 <span class="d_comment">// Can also assign class values
</span>
 <span class="d_keyword">class</span> Foo {}
 <span class="d_keyword">auto</span> foo = <span class="d_keyword">new</span> Foo;
 a = foo;
 <span class="d_keyword">assert</span>(*a.peek!(Foo) == foo); <span class="d_comment">// and full type information is preserved
</span>
</pre>

</dd>
<dt>Credits:</dt><dd>
Reviewed by Brad Roberts. Daniel Keep provided a detailed code
 review prompting the following improvements: (1) better support for
 arrays; (2) support for associative arrays; (3) friendlier behavior
 towards the garbage collector.

</dd>
<dt>License</dt><dd><a href="http://www.boost.org/LICENSE_1_0.txt">Boost License 1.0</a>.
</dd>

<dt>Authors</dt><dd><a href="http://erdani.org">Andrei Alexandrescu</a>
</dd>

<dt>Source:</dt><dd>
<a href="https://github.com/D-Programming-Language/phobos/blob/master/std/variant.d">std/variant.d</a></dd>
</dl>
<hr><div class="row-fluid declaration"><h3>struct <a class="symbol symbol-anchor" name="VariantN" href="#VariantN">VariantN</a>(size_t maxDataSize,AllowedTypesX...);
</h3></div>


<div class="declaration-content"><dl><p><b><a class="symbol symbol-anchor" name="VariantN" href="#VariantN">VariantN</a></b> is a back-end type seldom used directly by user
 code. Two commonly-used types using <b><a class="symbol symbol-anchor" name="VariantN" href="#VariantN">VariantN</a></b> as
 back-end are:
</p>

<p><ol><li><b>Algebraic</b>: A closed discriminated union with a
 limited type universe (e.g., <b>Algebraic!(int, double,
 string)</b> only accepts these three types and rejects anything
 else).</li> <li><b>Variant</b>: An open discriminated union allowing an
 unbounded set of types. The restriction is that the size of the
 stored type cannot be larger than the largest built-in type. This
 means that <b>Variant</b> can accommodate all primitive types
 and all user-defined types except for large <b>struct</b>s.</li> </ol>
<br><br>

 Both <b>Algebraic</b> and <b>Variant</b> share <b><a class="symbol symbol-anchor" name="VariantN" href="#VariantN">VariantN</a></b>'s interface. (See their respective documentations below.)
<br><br>

 <b><a class="symbol symbol-anchor" name="VariantN" href="#VariantN">VariantN</a></b> is a discriminated union type parameterized
 with the largest size of the types stored (<b>maxDataSize</b>)
 and with the list of allowed types (<b>AllowedTypes</b>). If
 the list is empty, then any type up of size up to <b>maxDataSize</b> (rounded up for alignment) can be stored in a
 <b><a class="symbol symbol-anchor" name="VariantN" href="#VariantN">VariantN</a></b> object.</p>
</dl>
<div class="offset1 member-list"><hr><div class="row-fluid declaration"><h3>template <a class="symbol symbol-anchor" name="allowed" href="#allowed">allowed</a>(T)</h3></div>


<div class="declaration-content"><dl><p>Tells whether a type <b>T</b> is statically <a class="symbol symbol-anchor" name="allowed" href="#allowed">allowed</a> for
 storage inside a <b>VariantN</b> object by looking
 <b>T</b> up in <b>AllowedTypes</b>. If <b>AllowedTypes</b> is empty, all types of size up to <b>maxSize</b> are <a class="symbol symbol-anchor" name="allowed" href="#allowed">allowed</a>.</p>

</dl>
</div>

<hr><div class="row-fluid declaration"><h3>this(T)(T <i>value</i>);
</h3></div>


<div class="declaration-content"><dl><p>Constructs a <b>VariantN</b> value given an argument of a
 generic type. Statically rejects disallowed types.</p>

</dl>
</div>

<hr><div class="row-fluid declaration"><h3>VariantN <a class="symbol symbol-anchor" name="opAssign" href="#opAssign">opAssign</a>(T)(T <i>rhs</i>);
</h3></div>


<div class="declaration-content"><dl><p>Assigns a <b>VariantN</b> from a generic
 argument. Statically rejects disallowed types. </p>

</dl>
</div>

<hr><div class="row-fluid declaration"><h3>const bool <a class="symbol symbol-anchor" name="hasValue" href="#hasValue">hasValue</a>();
</h3></div>


<div class="declaration-content"><dl><p>Returns <span class="d_keyword">true</span> if and only if the <b>VariantN</b> object
 holds a valid value (has been initialized with, or assigned
 from, a valid value).
</p>

<dt>Example:</dt><dd>
<pre class="d_code"> Variant a;
 <span class="d_keyword">assert</span>(!a.<u>hasValue</u>);
 Variant b;
 a = b;
 <span class="d_keyword">assert</span>(!a.<u>hasValue</u>); <span class="d_comment">// still no value
</span>
 a = 5;
 <span class="d_keyword">assert</span>(a.<u>hasValue</u>);
</pre>
</dd>
</dl>
</div>

<hr><div class="row-fluid declaration"><h3>T* <a class="symbol symbol-anchor" name="peek" href="#peek">peek</a>(T)();
</h3></div>


<div class="declaration-content"><dl><p>If the <b>VariantN</b> object holds a value of the
 <i>exact</i> type <b>T</b>, returns a pointer to that
 value. Otherwise, returns <b><span class="d_keyword">null</span></b>. In cases
 where <b>T</b> is statically disallowed, <b><a class="symbol symbol-anchor" name="peek" href="#peek">peek</a></b> will not compile.
</p>

<dt>Example:</dt><dd>
<pre class="d_code"> Variant a = 5;
 <span class="d_keyword">auto</span> b = a.<u>peek</u>!(<span class="d_keyword">int</span>);
 <span class="d_keyword">assert</span>(b !<span class="d_keyword">is</span> <span class="d_keyword">null</span>);
 *b = 6;
 <span class="d_keyword">assert</span>(a == 6);
</pre>
</dd>
</dl>
</div>

<hr><div class="row-fluid declaration"><h3>const TypeInfo <a class="symbol symbol-anchor" name="type" href="#type">type</a>();
</h3></div>


<div class="declaration-content"><dl><p>Returns the <b>typeid</b> of the currently held value.</p>

</dl>
</div>

<hr><div class="row-fluid declaration"><h3>bool <a class="symbol symbol-anchor" name="convertsTo" href="#convertsTo">convertsTo</a>(T)();
</h3></div>


<div class="declaration-content"><dl><p>Returns <b><span class="d_keyword">true</span></b> if and only if the <b>VariantN</b>
 object holds an object implicitly convertible to type <b>U</b>. Implicit convertibility is defined as per
 <a href="std_traits.html#ImplicitConversionTargets">ImplicitConversionTargets</a>.</p>

</dl>
</div>

<hr><div class="row-fluid declaration"><h3>T <a class="symbol symbol-anchor" name="get" href="#get">get</a>(T)();
</h3></div>


<div class="declaration-content"><dl><p>Returns the value stored in the <b>VariantN</b> object,
 implicitly converted to the requested type <b>T</b>, in
 fact <b>DecayStaticToDynamicArray!(T)</b>. If an implicit
 conversion is not possible, throws a <b>VariantException</b>.</p>

</dl>
</div>

<hr><div class="row-fluid declaration"><h3>T <a class="symbol symbol-anchor" name="coerce" href="#coerce">coerce</a>(T)();
</h3></div>


<div class="declaration-content"><dl><p>Returns the value stored in the <b>VariantN</b> object,
 explicitly converted (coerced) to the requested type <b>T</b>. If <b>T</b> is a string type, the value is formatted as
 a string. If the <b>VariantN</b> object is a string, a
 parse of the string to type <b>T</b> is attempted. If a
 conversion is not possible, throws a <b>VariantException</b>.</p>

</dl>
</div>

<hr><div class="row-fluid declaration"><h3>string <a class="symbol symbol-anchor" name="toString" href="#toString">toString</a>();
</h3></div>


<div class="declaration-content"><dl><p>Formats the stored value as a string.</p>

</dl>
</div>

<hr><div class="row-fluid declaration"><h3>bool <a class="symbol symbol-anchor" name="opEquals" href="#opEquals">opEquals</a>(T)(T <i>rhs</i>);
</h3></div>


<div class="declaration-content"><dl><p>Comparison for equality used by the "==" and "!="  operators.</p>

</dl>
</div>

<hr><div class="row-fluid declaration"><h3>int <a class="symbol symbol-anchor" name="opCmp" href="#opCmp">opCmp</a>(T)(T <i>rhs</i>);
</h3></div>


<div class="declaration-content"><dl><p>Ordering comparison used by the "&lt;", "&lt;=", "&gt;", and "&gt;="
 operators. In case comparison is not sensible between the held
 value and <b>rhs</b>, an exception is thrown.</p>

</dl>
</div>

<hr><div class="row-fluid declaration"><h3>size_t <a class="symbol symbol-anchor" name="toHash" href="#toHash">toHash</a>();
</h3></div>


<div class="declaration-content"><dl><p>Computes the hash of the held value.</p>

</dl>
</div>

<hr><div class="row-fluid declaration"><h3>VariantN <a class="symbol symbol-anchor" name="opAdd" href="#opAdd">opAdd</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opSub" href="#opSub">opSub</a>(T)(T <i>rhs</i>);
</h3></div>


<div class="declaration-content"><dl><p>Arithmetic between <b>VariantN</b> objects and numeric
 values. All arithmetic operations return a <b>VariantN</b>
 object typed depending on the types of both values
 involved. The conversion rules mimic D's built-in rules for
 arithmetic conversions.</p>

</dl>
</div>

<hr><div class="row-fluid declaration"><h3>VariantN <a class="symbol symbol-anchor" name="opMul" href="#opMul">opMul</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opDiv" href="#opDiv">opDiv</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opMod" href="#opMod">opMod</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opAnd" href="#opAnd">opAnd</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opOr" href="#opOr">opOr</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opXor" href="#opXor">opXor</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opShl" href="#opShl">opShl</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opShr" href="#opShr">opShr</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opUShr" href="#opUShr">opUShr</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opCat" href="#opCat">opCat</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opAddAssign" href="#opAddAssign">opAddAssign</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opSubAssign" href="#opSubAssign">opSubAssign</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opMulAssign" href="#opMulAssign">opMulAssign</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opDivAssign" href="#opDivAssign">opDivAssign</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opModAssign" href="#opModAssign">opModAssign</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opAndAssign" href="#opAndAssign">opAndAssign</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opOrAssign" href="#opOrAssign">opOrAssign</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opXorAssign" href="#opXorAssign">opXorAssign</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opShlAssign" href="#opShlAssign">opShlAssign</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opShrAssign" href="#opShrAssign">opShrAssign</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opUShrAssign" href="#opUShrAssign">opUShrAssign</a>(T)(T <i>rhs</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opCatAssign" href="#opCatAssign">opCatAssign</a>(T)(T <i>rhs</i>);
</h3></div>


<div class="declaration-content"><dl><p>ditto
ditto</p>

</dl>
</div>

<hr><div class="row-fluid declaration"><h3>VariantN <a class="symbol symbol-anchor" name="opIndex" href="#opIndex">opIndex</a>(K)(K <i>i</i>);
<br>VariantN <a class="symbol symbol-anchor" name="opIndexAssign" href="#opIndexAssign">opIndexAssign</a>(T, N)(T <i>value</i>, N <i>i</i>);
</h3></div>


<div class="declaration-content"><dl><p>Array and associative array operations. If a <b>VariantN</b> contains an (associative) array, it can be indexed
 into. Otherwise, an exception is thrown.
</p>

<dt>Example:</dt><dd>
<pre class="d_code"> <span class="d_keyword">auto</span> a = Variant(<span class="d_keyword">new</span> <span class="d_keyword">int</span>[10]);
 a[5] = 42;
 <span class="d_keyword">assert</span>(a[5] == 42);
 <span class="d_keyword">int</span>[<span class="d_keyword">int</span>] hash = [ 42:24 ];
 a = hash;
 <span class="d_keyword">assert</span>(a[42] == 24);
</pre>

</dd>
<dt>Caveat:</dt><dd>
Due to limitations in current language, read-modify-write
 operations <b>op=</b> will not work properly:
<br><br>

<pre class="d_code"> Variant a = <span class="d_keyword">new</span> <span class="d_keyword">int</span>[10];
 a[5] = 42;
 a[5] += 8;
 <span class="d_keyword">assert</span>(a[5] == 50); <span class="d_comment">// fails, a[5] is still 42
</span>
</pre>
</dd>
</dl>
</div>

<hr><div class="row-fluid declaration"><h3>size_t <a class="symbol symbol-anchor" name="length" href="#length">length</a>();
</h3></div>


<div class="declaration-content"><dl><p>If the <b>VariantN</b> contains an (associative) array,
 returns the <a class="symbol symbol-anchor" name="length" href="#length">length</a> of that array. Otherwise, throws an
 exception.</p>

</dl>
</div>

<hr><div class="row-fluid declaration"><h3>int <a class="symbol symbol-anchor" name="opApply" href="#opApply">opApply</a>(Delegate)(scope Delegate <i>dg</i>);
</h3></div>


<div class="declaration-content"><dl><p>If the <span class="inlinecode">VariantN</span> contains an array, applies <span class="inlinecode">dg</span> to each
       element of the array in turn. Otherwise, throws an exception.</p>

</dl>
</div>

</div>
</div>

<hr><div class="row-fluid declaration"><h3>template <a class="symbol symbol-anchor" name="Algebraic" href="#Algebraic">Algebraic</a>(T...)</h3></div>


<div class="declaration-content"><dl><p><a class="symbol symbol-anchor" name="Algebraic" href="#Algebraic">Algebraic</a> data type restricted to a closed set of possible
 types. It's an alias for a <b>VariantN</b> with an
 appropriately-constructed maximum size. <b><a class="symbol symbol-anchor" name="Algebraic" href="#Algebraic">Algebraic</a></b> is
 useful when it is desirable to restrict what a discriminated type
 could hold to the end of defining simpler and more efficient
 manipulation.
</p>

<p>Future additions to <b><a class="symbol symbol-anchor" name="Algebraic" href="#Algebraic">Algebraic</a></b> will allow compile-time
 checking that all possible types are handled by user code,
 eliminating a large class of errors.

</p>
<dt>Known Bugs</dt><dd>Currently, <b><a class="symbol symbol-anchor" name="Algebraic" href="#Algebraic">Algebraic</a></b> does not allow recursive data
 types. They will be allowed in a future iteration of the
 implementation.

</dd>

<dt>Example:</dt><dd>
<pre class="d_code"> <span class="d_keyword">auto</span> v = <u>Algebraic</u>!(<span class="d_keyword">int</span>, <span class="d_keyword">double</span>, string)(5);
 <span class="d_keyword">assert</span>(v.peek!(<span class="d_keyword">int</span>));
 v = 3.14;
 <span class="d_keyword">assert</span>(v.peek!(<span class="d_keyword">double</span>));
 <span class="d_comment">// auto x = v.peek!(long); // won't compile, type long not allowed
</span>
 <span class="d_comment">// v = '1'; // won't compile, type char not allowed
</span>
</pre>
</dd>
</dl>
</div>

<hr><div class="row-fluid declaration"><h3>alias <a class="symbol symbol-anchor" name="Variant" href="#Variant">Variant</a>;
</h3></div>


<div class="declaration-content"><dl><p><b><a class="symbol symbol-anchor" name="Variant" href="#Variant">Variant</a></b> is an alias for <b>VariantN</b> instantiated
with the largest of <b>creal</b>, <b>char[]</b>, and <b>void delegate()</b>. This ensures that <b><a class="symbol symbol-anchor" name="Variant" href="#Variant">Variant</a></b> is large enough
to hold all of D's predefined types, including all numeric types,
pointers, delegates, and class references.  You may want to use
<b>VariantN</b> directly with a different maximum size either for
storing larger types, or for saving memory.</p>

</dl>
</div>

<hr><div class="row-fluid declaration"><h3>Variant[] <a class="symbol symbol-anchor" name="variantArray" href="#variantArray">variantArray</a>(T...)(T <i>args</i>);
</h3></div>


<div class="declaration-content"><dl><p>Returns an array of variants constructed from <b>args</b>.
</p>

<dt>Example:</dt><dd>
<pre class="d_code"> <span class="d_keyword">auto</span> a = <u>variantArray</u>(1, 3.14, <span class="d_string">"Hi!"</span>);
 <span class="d_keyword">assert</span>(a[1] == 3.14);
 <span class="d_keyword">auto</span> b = Variant(a); <span class="d_comment">// variant array as variant
</span>
 <span class="d_keyword">assert</span>(b[1] == 3.14);
</pre>

 Code that needs functionality similar to the <b>boxArray</b>
 function in the <b>std.boxer</b> module can achieve it like this:
<br><br>

<pre class="d_code"> <span class="d_comment">// old
</span>
 Box[] fun(...)
 {
     ...
     <span class="d_keyword">return</span> boxArray(_arguments, _argptr);
 }
 <span class="d_comment">// new
</span>
 Variant[] fun(T...)(T args)
 {
     ...
     <span class="d_keyword">return</span> <u>variantArray</u>(args);
 }
</pre>

 This is by design. During construction the <b>Variant</b> needs
 static type information about the type being held, so as to store a
 pointer to function for fast retrieval.</dd>
</dl>
</div>

<hr><div class="row-fluid declaration"><h3>class <a class="symbol symbol-anchor" name="VariantException" href="#VariantException">VariantException</a>: object.Exception;
</h3></div>


<div class="declaration-content"><dl><p>Thrown in three cases:
</p>

<p><ol><li>An uninitialized Variant is used in any way except
 assignment and <b>hasValue</b>;</li> <li>A <b>get</b> or
 <b>coerce</b> is attempted with an incompatible target type;</li>
 <li>A comparison between <b>Variant</b> objects of
 incompatible types is attempted.</li></ol></p>
</dl>
<div class="offset1 member-list"><hr><div class="row-fluid declaration"><h3>TypeInfo <a class="symbol symbol-anchor" name="source" href="#source">source</a>;
</h3></div>


<div class="declaration-content"><dl><p>The <a class="symbol symbol-anchor" name="source" href="#source">source</a> type in the conversion or comparison</p>

</dl>
</div>

<hr><div class="row-fluid declaration"><h3>TypeInfo <a class="symbol symbol-anchor" name="target" href="#target">target</a>;
</h3></div>


<div class="declaration-content"><dl><p>The <a class="symbol symbol-anchor" name="target" href="#target">target</a> type in the conversion or comparison</p>

</dl>
</div>

</div>
</div>



				</div>
			</div>
			
			<hr>
			
			<div class="pull-right">
				<footer>
					<p>&copy; Copyright Andrei Alexandrescu 2007 - 2009.
 2012-2012</p>
				</footer>
			</div>
		</div>
	</div><!--/.fluid-container-->

	<!-- Bootstrap javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="bootDoc/assets/js/jquery.js"></script>
	<script src="bootDoc/assets/js/bootstrap-transition.js"></script>
	<script src="bootDoc/assets/js/bootstrap-alert.js"></script>
	<script src="bootDoc/assets/js/bootstrap-modal.js"></script>
	<script src="bootDoc/assets/js/bootstrap-dropdown.js"></script>
	<script src="bootDoc/assets/js/bootstrap-scrollspy.js"></script>
	<script src="bootDoc/assets/js/bootstrap-tab.js"></script>
	<script src="bootDoc/assets/js/bootstrap-tooltip.js"></script>
	<script src="bootDoc/assets/js/bootstrap-popover.js"></script>
	<script src="bootDoc/assets/js/bootstrap-button.js"></script>
	<script src="bootDoc/assets/js/bootstrap-collapse.js"></script>
	<script src="bootDoc/assets/js/bootstrap-carousel.js"></script>
	<script src="bootDoc/assets/js/bootstrap-typeahead.js"></script>
	
	<!-- bootDoc javascript
	================================================== -->
	<script src="bootDoc/bootdoc.js"></script>
	
	</body>
</html>

